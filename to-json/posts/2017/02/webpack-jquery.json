{"title":"webpack全局加载第三方插件jQuery类库","slug":"webpack-jquery","updated":1487237687386,"link":"","permalink":"http://www.fedjs.com/2017/02/webpack-jquery/","path":"2017/02/webpack-jquery/","photos":[],"comments":true,"source":"_posts/webpack-jquery.md","published":true,"excerpt":"","content":"<h1 id=\"介绍\"><a href=\"#介绍\" class=\"headerlink\" title=\"介绍\"></a>介绍</h1><p>webpack是近期最火的一款模块加载器兼打包工具，它能把各种资源，例如JS（含JSX）、coffee、样式（含less/sass）、图片等都作为模块来使用和处理。</p>\n<p>我们可以直接使用 require(XXX) 的形式来引入各模块，即使它们可能需要经过编译（比如JSX和sass），但我们无须在上面花费太多心思，因为 webpack 有着各种健全的加载器（loader）在默默处理这些事情，这块我们后续会提到。</p>\n<p>用webpack最大的问题就是不需要再关注依赖顺序了</p>\n<p><a href=\"http://webpack.github.io/\" target=\"_blank\" rel=\"external\">【webpack 官网】</a></p>\n<p><a href=\"http://webpack.github.io/docs/\" target=\"_blank\" rel=\"external\">【webpack 入门文档】</a></p>\n<h1 id=\"第一种方法（直接引入）：\"><a href=\"#第一种方法（直接引入）：\" class=\"headerlink\" title=\"第一种方法（直接引入）：\"></a>第一种方法（直接引入）：</h1><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> webpack = <span class=\"built_in\">require</span>(<span class=\"string\">'webpack'</span>);</div><div class=\"line\"><span class=\"comment\">// 你要引入jquery并交由webpack打包 只需要这样使用</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> $ = <span class=\"built_in\">require</span>(<span class=\"string\">'jquery'</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// webpack会自动去node_modules 目录中查找资源</span></div><div class=\"line\"><span class=\"comment\">// console.log(\"一切就是如此简单愉快！\")</span></div></pre></td></tr></table></figure>\n<h1 id=\"第二种方法（webpack插件引入）：\"><a href=\"#第二种方法（webpack插件引入）：\" class=\"headerlink\" title=\"第二种方法（webpack插件引入）：\"></a>第二种方法（webpack插件引入）：</h1><p>主要依靠 webpack 中 ProvidePlugin 来实现。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</div><div class=\"line\">    <span class=\"attr\">resolve</span>: &#123;</div><div class=\"line\">        <span class=\"attr\">root</span>: [],</div><div class=\"line\">        <span class=\"attr\">alias</span>: &#123;</div><div class=\"line\">            <span class=\"string\">'jquery'</span>: path.resolve(rootDir, <span class=\"string\">'./lib/jquery.min.js'</span>); </div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;,</div><div class=\"line\">    <span class=\"attr\">plugins</span>: [</div><div class=\"line\">        <span class=\"keyword\">new</span> webpack.ProvidePlugin(&#123;</div><div class=\"line\">            <span class=\"attr\">$</span>: <span class=\"string\">'jquery'</span></div><div class=\"line\">        &#125;),</div><div class=\"line\">    ]</div><div class=\"line\">&#125;;</div></pre></td></tr></table></figure>\n<h1 id=\"第三种方法（expose-loader-配置）：\"><a href=\"#第三种方法（expose-loader-配置）：\" class=\"headerlink\" title=\"第三种方法（expose-loader 配置）：\"></a>第三种方法（expose-loader 配置）：</h1><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">&#123;</div><div class=\"line\">    <span class=\"attr\">test</span>: <span class=\"built_in\">require</span>.resolve(<span class=\"string\">'jquery'</span>),</div><div class=\"line\">    <span class=\"attr\">loader</span>: <span class=\"string\">'expose?jQuery!expose?$'</span></div><div class=\"line\"> &#125;</div></pre></td></tr></table></figure>\n<p>引用方式：<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> $ <span class=\"keyword\">from</span> <span class=\"string\">'expose?$!jquery'</span></div><div class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">'jquery-ui'</span> <span class=\"comment\">//插件可用</span></div></pre></td></tr></table></figure></p>\n<h1 id=\"第四种方法（封装jQuery）：\"><a href=\"#第四种方法（封装jQuery）：\" class=\"headerlink\" title=\"第四种方法（封装jQuery）：\"></a>第四种方法（封装jQuery）：</h1><ol>\n<li><p>生成 jquery-vendor.js</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> $ = <span class=\"built_in\">require</span>(<span class=\"string\">'jquery'</span>);</div><div class=\"line\"><span class=\"comment\">// es6</span></div><div class=\"line\"><span class=\"keyword\">import</span> $ <span class=\"keyword\">from</span> <span class=\"string\">'jquery'</span>;</div><div class=\"line\"><span class=\"built_in\">window</span>.$ = $;</div><div class=\"line\"><span class=\"built_in\">window</span>.jQuery = $;</div><div class=\"line\">exports <span class=\"keyword\">default</span> $</div></pre></td></tr></table></figure>\n</li>\n<li><p>类库引用jquery时指向jquery-vendor.js</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> $ <span class=\"keyword\">from</span> <span class=\"string\">'$&#123;webroot&#125;/jquery-vendor.js'</span></div><div class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">'jquery-ui'</span></div></pre></td></tr></table></figure>\n</li>\n<li><p>调用方便，可在webpack配置文件中创建jquery-vendor.js的别名</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">alias:&#123;</div><div class=\"line\">    <span class=\"string\">'jquery'</span>:<span class=\"string\">'$&#123;webroot&#125;/jquery-vendor.js'</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n</li>\n</ol>","prev":{"title":"npm使用入门","slug":"npm使用入门","updated":1487225121961,"link":"","permalink":"http://www.fedjs.com/2017/02/npm使用入门/","path":"2017/02/npm使用入门/","photos":[],"comments":true,"source":"_posts/npm使用入门.md","published":true},"next":{"title":"webpack-react-redux-startkit","slug":"webpack-react-redux-startkit","updated":1487224873880,"link":"","permalink":"http://www.fedjs.com/2017/02/webpack-react-redux-startkit/","path":"2017/02/webpack-react-redux-startkit/","photos":[],"comments":true,"source":"_posts/webpack-react-redux-startkit.md","published":true},"categories":[{"name":"webpack","slug":"webpack","path":"categories/webpack/","permalink":"http://www.fedjs.com/categories/webpack/","length":60}],"tags":[]}